# ------------------------------------------------------------------------------
# <auto-generated>
#
#     This code was generated.
#
#     - To turn off auto-generation set:
#
#         [AppVeyor (AutoGenerate = false)]
#
#     - To trigger manual generation invoke:
#
#         nuke --generate-configuration AppVeyor --host AppVeyor
#
# </auto-generated>
# ------------------------------------------------------------------------------

image:
  - Visual Studio 2022

test: off

deploy: off

build_script:
  - cmd: .\build.cmd Verify Cover Pack Publish --no-logo
  - sh: ./build.cmd Verify Cover Pack Publish --no-logo

artifacts:
  - path: artifacts/testresults/*.zip
  - path: artifacts/coverage/*.zip
  - path: artifacts/reports/*.zip
  - path: artifacts/packages/*.nupkg

environment:
  NUGET_API_KEY:
    secure: Ck6rzl3EqVCEyzC37VgcRGkYU0MPim9jWALa6XdSvaPFZfzzwJZIDLjsRGkFvjoe
  MYGET_API_KEY:
    secure: hA4Ut1N2lrrdEtAN24Bty/FNiU0d/Ur/dLYSqpr8jKHOvoO7MU4jD+KwzUvATh+E

pull_requests:
  do_not_increment_build_number: true

skip_commits:
  files:
    - '**/*.md'
    - '**/*.yml'
    - '**/*.yaml'
    - '**/*.txt'

build_script:
- ps: |
    $env:BUILD_VERSION="git";
    $env:BUILD_NUMBER=$env:APPVEYOR_BUILD_NUMBER;
    & .\build.cmd -t AppVeyor

test: off

artifacts:
- path: build\NuGetPackages\*.nupkg
  name: NuGet

deploy: off

